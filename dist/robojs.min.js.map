{"version":3,"file":"robojs.min.js","sources":["robojs.js"],"names":["root","factory","define","amd","RoboJS","_","signals","bluebird","this","Promise","DisplayList","onAdded","Signal","onRemoved","observer","MutationObserver","handleMutations","bind","observe","document","body","attributes","childList","characterData","EventDispatcher","_currentListeners","EventMapConfig","dispatcher","eventString","listener","callback","scope","EventMap","_listeners","Mediator","element","eventMap","eventDispatcher","getInstance","ScriptLoader","MediatorsBuilder","_definition","definitions","displayList","add","_handleNodesAdded","_handleNodesRemoved","loader","MEDIATORS_CACHE","utils","uid","nextUid","digit","index","length","charCodeAt","join","String","fromCharCode","unshift","prototype","mutations","response","reduce","result","mutation","addedNodes","concat","Array","slice","call","removedNodes","dispatch","addEventListener","type","push","removeEventListener","eventName","listeners","filter","sameCB","sameScope","removeAllEventListeners","hasEventListener","dispatchEvent","data","l","c","s","i","__instance","equalTo","mapListener","config","currentListeners","unmapListener","splice","unmapListeners","eventConfig","pop","postDestroy","addContextListener","removeContextListener","initialize","destroy","get","id","resolve","require","bootstrap","getMediators","target","promises","chain","_reduceNodes","_findMediators","value","all","node","mediators","def","dataset","mediator","map","then","_initMediator","mediatorId","_mediator","nodes","forEach","_destroyMediator","n","getElementsByTagName","display","events","net"],"mappings":"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"}