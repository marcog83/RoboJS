{"version":3,"file":"robojs.min.js","sources":["robojs.js"],"names":["root","factory","define","amd","RoboJS","_","signals","Promise","this","DisplayList","onAdded","Signal","onRemoved","observer","MutationObserver","handleMutations","bind","observe","document","body","attributes","childList","characterData","subtree","EventDispatcher","_currentListeners","EventMapConfig","dispatcher","eventString","listener","callback","scope","EventMap","_listeners","Mediator","element","eventMap","eventDispatcher","getInstance","ScriptLoader","MediatorsBuilder","_definition","definitions","displayList","add","_handleNodesAdded","_handleNodesRemoved","loader","MEDIATORS_CACHE","utils","uid","nextUid","digit","index","length","charCodeAt","join","String","fromCharCode","unshift","prototype","mutations","response","reduce","result","mutation","addedNodes","concat","Array","slice","call","removedNodes","dispatch","addEventListener","type","push","removeEventListener","eventName","listeners","filter","sameCB","sameScope","removeAllEventListeners","hasEventListener","dispatchEvent","data","l","c","s","i","__instance","equalTo","mapListener","config","currentListeners","unmapListener","splice","unmapListeners","eventConfig","pop","postDestroy","addContextListener","removeContextListener","initialize","destroy","get","id","resolve","require","bootstrap","getMediators","target","promises","chain","_reduceNodes","_findMediators","value","all","node","mediators","def","dataset","mediator","map","then","_initMediator","mediatorId","_mediator","nodes","forEach","_destroyMediator","getElementsByTagName","n","display","events","net"],"mappings":"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"}